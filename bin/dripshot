#!/bin/sh

DATE="$(date +'%d-%B-%y~%H:%M')"
DIR="$HOME/Pictures/Screenshots"
PIC="$DIR/$DATE.png"

[ ! -d "$DIR" ] && mkdir -pv "$DIR"

full(){ maim -u "$PIC" ; }
crop(){ maim --select "$PIC" ; }
abort(){ dunstify -i face-crying "Error 404" ; exit 1 ; }

case "$1" in 
    full)
      full || abort
      xclip -selection c -t image/png "$PIC"
      dunstify -u normal -i "$PIC" "Sauced!" $PIC
      ;;
    crop)
      crop || abort
      xclip -selection c -t image/png "$PIC"
      dunstify -u normal -i "$PIC" "Sauced!" $PIC
      ;;
esac
